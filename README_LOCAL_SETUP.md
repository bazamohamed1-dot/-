# دليل إعداد الشبكة المحلية (العمل دون إنترنت - Desert Mode)

هذا الدليل يشرح كيفية تجهيز جهاز الكمبيوتر ليعمل كـ "سيرفر محلي" بحيث يمكن للهواتف الاتصال به عبر الويفي (Wi-Fi) حتى في عدم وجود إنترنت.

## الخطوة 1: تثبيت عنوان السيرفر (Static IP)
لضمان أن الهواتف تجد السيرفر دائماً في نفس المكان، يجب تثبيت عنوان الـ IP الخاص بجهاز الكمبيوتر.

1. اضغط على زر **Start** واكتب `ncpa.cpl` ثم اضغط **Enter**.
2. ستفتح نافذة اتصالات الشبكة. اضغط بيمين الفأرة على اتصال الويفي (Wi-Fi) واختر **Properties**.
3. اختر `Internet Protocol Version 4 (TCP/IPv4)` ثم اضغط **Properties**.
4. اختر **Use the following IP address** وادخل البيانات التالية:
   - **IP address:** `192.168.1.100`
   - **Subnet mask:** `255.255.255.0`
   - **Default gateway:** `192.168.1.1` (أو عنوان الراوتر الخاص بك)
5. في خانة DNS، يمكنك تركها فارغة أو استخدام `8.8.8.8` إذا كان هناك إنترنت أحياناً.
6. اضغط **OK** ثم **OK**.

## الخطوة 2: فتح جدار الحماية (Firewall)
لكي تسمح للهواتف بالدخول إلى السيرفر، يجب فتح المنفذ `8000`.

1. ابحث عن الملف `setup_firewall.bat` في مجلد المشروع.
2. اضغط عليه بيمين الفأرة واختر **Run as Administrator** (تشغيل كمسؤول).
3. ستظهر شاشة سوداء تخبرك بنجاح العملية.

## الخطوة 3: منع الكمبيوتر من النوم (Power Settings)
إذا انطفأ الكمبيوتر أو دخل في وضع النوم، سيتوقف النظام عن العمل للهواتف.

1. اضغط **Start** واكتب `Sleep` واختر **Power & sleep settings**.
2. تحت قسم **Sleep**، اختر **Never** (أبداً) عند توصيل الشاحن (Plugged in).

## الخطوة 4: تشغيل النظام
1. اضغط مرتين على `run_school.bat`.
2. انتظر حتى تظهر رسالة `Serving on http://0.0.0.0:8000`.
3. الآن، من أي هاتف متصل بنفس شبكة الويفي، افتح المتصفح (Chrome) واكتب:
   `http://192.168.1.100:8000/canteen/`

## ملاحظات هامة
- **التحديث التلقائي:** عند عودة الإنترنت، سيقوم النظام بمزامنة البيانات المسجلة تلقائياً.
- **التطبيق (PWA):** عند فتح الرابط لأول مرة على الهاتف، سيطلب منك المتصفح "تثبيت التطبيق". وافق ليعمل التطبيق كأنه تطبيق أصلي.
